# spherical_sld — SasView 6.1.0 documentation

Model: spherical_sld
URL: https://www.sasview.org/docs/user/models/spherical_sld.html

## Parameters
- **scale**: Scale factor or Volume fraction
  Units: None
- **background**: Source background
  Units: cm-1
- **n_shells**: number of shells (must be integer)
  Units: None
- **sld_solvent**: solvent sld
  Units: 10-6Å-2
- **sld[n_shells]**: sld of the shell
  Units: 10-6Å-2
- **thickness[n_shells]**: thickness shell
  Units: Å
- **interface[n_shells]**: thickness of the interface
  Units: Å
- **shape[n_shells]**: interface shape
  Units: None
- **nu[n_shells]**: interface shape exponent
  Units: None
- **n_steps**: number of steps in each interface (must be an odd integer)
  Units: None

## Equations
\[P(q) = \frac{f^2}{V_\text{particle}} \text{ where }
f = f_\text{core} + \sum_{\text{inter}_i=0}^N f_{\text{inter}_i} +
\sum_{\text{flat}_i=0}^N f_{\text{flat}_i} +f_\text{solvent}\]
\[f_x = 4 \pi \int_{0}^{\infty} \rho_x(r)  \frac{\sin(qr)} {qr^2} r^2 dr\]
\[\begin{split}f_\text{core}
    &= 4 \pi \int_{0}^{r_\text{core}} \rho_\text{core}
        \frac{\sin(qr)} {qr} r^2 dr \\
    &= 3 \rho_\text{core} V(r_\text{core})
      \left[ \frac{\sin(qr_\text{core}) - qr_\text{core} \cos(qr_\text{core})}
            {qr_\text{core}^3} \right] \\
f_{\text{inter}_i}
    &= 4 \pi \int_{\Delta t_{ \text{inter}_i } } \rho_{ \text{inter}_i }
        \frac{\sin(qr)} {qr} r^2 dr \\
f_{\text{shell}_i}
    &= 4 \pi \int_{\Delta t_{ \text{inter}_i } } \rho_{ \text{flat}_i }
        \frac{\sin(qr)} {qr} r^2 dr \\
    &= 3 \rho_{\text{flat}_i} V (r_{\text{inter}_i}
                                   + \Delta t_{\text{inter}_i})
        \left[
            \frac{\sin(qr_{\text{inter}_i} + \Delta t_{\text{inter}_i})
                - q (r_{\text{inter}_i} + \Delta t_{ \text{inter}_i })
                \cos(q(r_{\text{inter}_i} + \Delta t_{\text{inter}_i}))}
            {q ( r_{\text{inter}_i} + \Delta t_{\text{inter}_i} )^3 }
        \right] \\
    &\quad {} - 3 \rho_{ \text{flat}_i } V (r_{\text{inter}_i})
        \left[
            \frac{\sin(qr_{\text{inter}_i})
                - qr_{\text{flat}_i} \cos(qr_{\text{inter}_i})}
            {qr_{\text{inter}_i}^3}
        \right] \\
f_\text{solvent}
    &= 4 \pi \int_{r_N}^{\infty} \rho_\text{solvent}
        \frac{\sin(qr)} {qr} r^2 dr \\
    &= 3 \rho_\text{solvent} V(r_N)
        \left[ \frac{\sin(qr_N) - qr_N \cos(qr_N)} {qr_N^3} \right]\end{split}\]
\[\begin{split}\rho_{{inter}_i}(r) &=
\begin{cases}
    B\, \exp\left(
        \frac{\pm A(r - r_{\text{flat}_i})}{\Delta t_{\text{inter}_i}}
    \right) + C  & \mbox{for } A \neq 0 \\
    B\, \left(
        \frac{(r - r_{\text{flat}_i})}{\Delta t_{\text{inter}_i}}
    \right) + C  & \mbox{for } A = 0 \\
\end{cases}\end{split}\]
\[\begin{split}\rho_{{inter}_i}(r) &=
\begin{cases}
    \pm B\, \left(
        \frac{(r - r_{\text{flat}_i})}{\Delta t_{ \text{inter}_i }}
        \right) ^A  + C  & \mbox{for } A \neq 0 \\
    \rho_{\text{flat}_{i+1}}  & \mbox{for } A = 0 \\
\end{cases}\end{split}\]
\[\begin{split}\rho_{{inter}_i}(r) =
\begin{cases}
    B\, \text{erf} \left(
        \frac{A(r - r_{\text{flat}_i})}{\sqrt{2} \Delta t_{\text{inter}_i}}
        \right) + C  & \mbox{for } A \neq 0 \\
    B\, \left(
        \frac{(r - r_{\text{flat}_i})}{\Delta t_{\text{inter}_i}}
        \right)  +C  & \mbox{for } A = 0 \\
\end{cases}\end{split}\]
\[\begin{split}\rho_{{inter}_i}(r) =
\begin{cases}
    \pm B\, \left(1-
        (\frac{(r - r_{\text{flat}_i})}{\Delta t_{ \text{inter}_i }})^2
        \right) ^(A/2-2)  + C  & \mbox{for } A \neq 0 \\
    \rho_{\text{flat}_{i+1}}  & \mbox{for } A = 0 \\
\end{cases}\end{split}\]
\[\begin{split}f_{\text{inter}_i}
    &= 4 \pi \int_{\Delta t_{\text{inter}_i} } \rho_{\text{inter}_i}
        \frac{\sin(qr)}{qr} r^2 dr \\
    &= 4 \pi \sum_{j=1}^{n_\text{steps}}
        \int_{r_j}^{r_{j+1}} \rho_{\text{inter}_i}(r_j)
            \frac{\sin(qr)}{qr} r^2 dr \\
    &\approx 4 \pi \sum_{j=1}^{n_\text{steps}}
    \Biggl[
         3 (\rho_{\text{inter}_i}(r_{j+1}) - \rho_{\text{inter}_i}(r_{j})) V (r_j)
        \left[
            \frac{r_j^2 \beta_\text{out}^2 \sin(\beta_\text{out})
                - (\beta_\text{out}^2-2) \cos(\beta_\text{out})}
            {\beta_\text{out}^4}
        \right] \\
    &\quad {} - 3 (\rho_{\text{inter}_i}(r_{j+1}) - \rho_{\text{inter}_i}(r_{j})) V(r_{j-1})
        \left[
            \frac{r_{j-1}^2 \sin(\beta_\text{in})
                - (\beta_\text{in}^2-2) \cos(\beta_\text{in})}
            {\beta_\text{in}^4}
        \right] \\
    &\quad {} + 3 \rho_{\text{inter}_i}(r_{j+1})  V(r_j)
        \left[
            \frac{\sin(\beta_\text{out}) - \cos(\beta_\text{out})}
            {\beta_\text{out}^4}
        \right] \\
    &\quad {} - 3 \rho_{\text{inter}_i}(r_{j})  V(r_j)
        \left[
            \frac{\sin(\beta_\text{in}) - \cos(\beta_\text{in})}
            {\beta_\text{in}^4}
        \right]
    \Biggr]\end{split}\]
\begin{align*}
V(a) &= \frac {4\pi}{3}a^3
    & {} & {} \\
a_\text{in} &\sim \frac{r_j}{r_{j+1} -r_j}
    & a_\text{out} &\sim \frac{r_{j+1}}{r_{j+1} -r_j} \\
\beta_\text{in} &= qr_j
    & \beta_\text{out} &= qr_{j+1}
\end{align*}
\[P(q) = \frac{[f]^2} {V_\text{particle}} \mbox{ where } V_\text{particle}
= V(r_{\text{shell}_N})\]
\[q = \sqrt{q_x^2 + q_y^2}\]
